<template>
    <v-dialog v-model="active" max-width="500px">
        <v-card>
            <v-card-title class="headline">{{$t('delete_sure')}}</v-card-title>
            <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn color="blue darken-1" text @click="close">{{$t('cancle')}}</v-btn>
            <v-btn color="blue darken-1" text @click="remove">{{$t('confirm')}}</v-btn>
            <v-spacer></v-spacer>
            </v-card-actions>
        </v-card>
    </v-dialog>
</template>
<script>
import { mapGetters } from 'vuex'
  export default {
    computed: {
        active:
        {
            get()
            {
                return this.$store.state.ui.deleteModal
            },
            set(value)
            {
                this.$store.commit('ui/setDeleteModal' , value)
            }
        },
    },

    methods:{
        close(){
            this.$store.commit('ui/setDeleteModal' , false)
        },
        remove(){

            this.$store.dispatch('global/remove' , 'inventory/get')
            .then(() => {
                this.$store.commit('ui/setDeleteModal' , false)
                this.$store.dispatch('document/findDoc' , this.$route.params.doc)
                this.$emit('deleted')
            })
        }
    }

  
}
</script>